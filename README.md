# Video Ops

### [App flow video](https://video-streaming-demo.up.railway.app/?v=MDg5YzRiMT)

This is project for uploading videos, processing them into 480p, 720p and 1080p.  
Once uploaded, you can watch them in custom-made player or embed into other website as iframe.

-   To set up CORS in <b>GCP CLI</b>: gsutil cors set cors.json gs://\<bucket name\>

## System architecture:

1.  Videos are uploaded with app using password token
2.  Raw video is uploaded to Google Cloud Storage (GCP) bucket via multipart upload.
3.  GCP upload triggers Google Pub/Sub which pushes notification to transcoding server.
4.  Thumbnails for video preview are generated by FFmpeg.
5.  Video gets transcoded by FFmpeg into all set qualities.
6.  Transcoded vidoes are saved to production bucket and data is saved to database.
7.  App consumes content via streaming.

## Features:

-   Custom-made player
-   Switching between video resolutions: 480p, 720p and 1080p
-   Thumbnails on hover or scrubbing over timeline
-   Embedded video player support

## Technologies:

-   Frontend: vanilla html, css and javascript
-   Servers: Node.js (express), FFmpeg, MongoDB
-   Google Cloud Storage and Pub/Sub
-   Deployed on Railway
